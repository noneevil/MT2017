<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
    <title>CKFinder上传组件</title>
    <script src="/developer/ckfinder/ckfinder.js" type="text/javascript"></script>
    <script type="text/javascript">
        function BrowseFile(data) {
            CKFinder.popup({
                //skin: 'v1',
                width: '70%',
                height: '60%',
                selectMultiple: data.Multiple,
                selectActionData: data.ClientID,
                disableHelpButton: true,
                defaultViewType: 'thumbnails', // 'list',
                resourceType: data.ResourceType,
                startupPath: data.Folder,
                selectActionFunction: function (fileUrl, fileinfo, allFiles) {
                    var values = new Array();
                    for (i = 0; i < allFiles.length; i++) {
                        values.push(allFiles[i].url);
                    }
                    parent.document.getElementById(fileinfo["selectActionData"]).value = values.join("@");
                },
                callback: function (api) {
                    //api.openMsgDialog("", "Almost ready to go!");
                }
            });
        }
    </script>
</head>
<body>
</body>
</html>
